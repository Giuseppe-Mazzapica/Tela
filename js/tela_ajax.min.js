var Tela={};(function(d,b,c,a){a.Ajax={run:function(g,f,h){if(typeof g!=="string"||g===""){return false}if(h===null||typeof h!=="object"){h={}}if(f===null||typeof f!=="object"){f={}}if(typeof b.nonces[g]==="undefined"){b.nonces[g]=""}var e=d.extend(h,{url:b.ajax_url,data:{telaajax_action:g,telaajax_nonce:b.nonces[g],telaajax_data:f},type:"POST"});return d.ajax(e)},updateHtml:function(e){var e=d.extend({target:null,action:null,data:null,settings:null},e);if(e.settings===null||typeof e.settings!=="object"){e.settings={}}if(!d(e.target).length){return false}e.settings.dataType="html";return this.run(e.action,e.data,e.settings).done(function(f){d(e.target).html(f)})},jsonEvent:function(e,h,g,f){if(typeof e!=="string"||e===""){return}if(f===null||typeof f!=="object"){f={}}f.dataType="json";return this.run(h,g,f).done(function(i){d(c).trigger(e,i)})}};a.PluginHelpers={init:function(e){var f={action:null,data:{},ajax:{},event:null,updateOn:null,subject:null,done:null,fail:null,always:null};e=d.extend(f,e);if(typeof e.action!=="string"||e.action===""){e.action=d(this).data("tela-action")}if(typeof e.event!=="string"||e.event===""){e.event=d(this).data("tela-event")}if(typeof e.event!=="string"||e.event===""){return this}if(typeof e.subject!=="string"||e.subject===""){e.subject=d(this).data("tela-subject")}if(typeof e.subject==="string"&&e.subject!==""){e.updateOn="subject-event"}else{if(typeof e.updateOn!=="string"||e.updateOn===""){e.updateOn=d(this).data("tela-update-on")}}return e},getPostData:function(e){var e=d.extend({source:null,context:null,options:null},e);var f={};if(d.isFunction(e.source)){if(typeof e.context!=="object"){e.context=this}if(typeof e.options==="undefined"){e.options=null}f=e.source.apply(e.context,[e.options])}else{if(typeof e.source==="object"){f=e.source}}return f},getSelector:function(){var e=d(this).data("tela-selector");if(typeof e!=="string"||e===""){var f=d(this).attr("id");if(typeof f==="string"&&f!==""){e="#"+f}}return(typeof e!=="string"||e==="")?false:e},response:function(e,f){if(typeof e!=="object"){return false}if(d.isFunction(f.done)){e.done(f.done)}if(d.isFunction(f.fail)){e.fail(f.done)}if(d.isFunction(f.always)){e.always(f.always)}return e},runCallerAction:function(h,j){var g={source:j.data,context:h};var i=a.PluginHelpers.getPostData.apply(h,[g]);var e=[j.action,i,j.ajax];var f=a.Ajax.run.apply(a.Ajax,e);return a.PluginHelpers.response(f,j)}};a.PluginMethods={subjectEvent:function(f){var e=this;if(typeof f.subject==="string"&&f.subject!==""){var g=this;d(document).on(f.event,f.subject,function(){var h={source:f.data,context:this};var i={target:g,action:f.action,data:a.PluginHelpers.getPostData.apply(e,[h]),settings:f.ajax};return a.Ajax.updateHtml.apply(a.Ajax,[i])})}},globalEvent:function(f){var e=this;var g=f.updateOn==="global-event"?d(c):d(document);g.on(f.event,function(){var h={source:f.data,context:e,options:arguments};var i={target:e,action:f.action,data:a.PluginHelpers.getPostData.apply(e,[h]),settings:f.ajax};return a.Ajax.updateHtml.apply(a.Ajax,[i])})},selfEvent:function(f){var e=this;d(this).on(f.event,function(){var g={source:f.data,context:e};var h={target:e,action:f.action,data:a.PluginHelpers.getPostData.apply(e,[g]),settings:f.ajax};return a.Ajax.updateHtml.apply(a.Ajax,[h])})},runAction:function(g){var f=this;var e=a.PluginHelpers.getSelector.apply(f);if(typeof e==="string"&&e!==""){d(document).on(g.event,e,function(){return a.PluginHelpers.runCallerAction(this,[f,g])})}else{d(f).on(g.event,function(){return a.PluginHelpers.runCallerAction(this,[f,g])})}}};d.fn.telaAjax=function(e){e=a.PluginHelpers.init.apply(this,[e]);switch(e.updateOn){case"subject-event":return a.PluginMethods.subjectEvent.apply(this,[e]);case"global-event":case"document-event":return a.PluginMethods.globalEvent.apply(this,[e]);case"self-event":return a.PluginMethods.selfEvent.apply(this,[e]);default:return a.PluginMethods.runAction.apply(this,[e])}return this}})(jQuery,TelaAjaxData,window,Tela);
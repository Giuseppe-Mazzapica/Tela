var Tela={};(function(d,b,c,a){a.Ajax={run:function(g,f,h){if(typeof g!=="string"||g===""){return false}if(h===null||typeof h!=="object"){h={}}if(f===null||typeof f!=="object"){f={}}if(typeof b.nonces[g]==="undefined"){b.nonces[g]=""}var e=d.extend(h,{url:b.ajax_url,data:{telaajax_action:g,telaajax_nonce:b.nonces[g],telaajax_data:f},type:"POST"});return d.ajax(e)},updateHtml:function(h,g,f,e){if(e===null||typeof e!=="object"){e={}}h=d(h);e.dataType="html";return this.run(g,f,e).done(function(i){d(h).html(i)})},jsonEvent:function(e,h,g,f){if(typeof e!=="string"||e===""){return}if(f===null||typeof f!=="object"){f={}}f.dataType="json";return this.run(h,g,f).done(function(i){d(c).trigger(e,i)})}};a.PluginHelpers={init:function(e){var f={action:null,data:{},ajax:{},event:null,updateOn:null,subject:null,done:null,fail:null,always:null};e=d.extend(f,e);if(typeof e.action!=="string"||e.action===""){e.action=d(this).data("tela-action")}if(typeof e.event!=="string"||e.event===""){e.event=d(this).data("tela-event")}if(typeof e.event!=="string"||e.event===""){return this}if(typeof e.subject!=="string"||e.subject===""){e.subject=d(this).data("tela-subject")}if(typeof e.subject==="string"&&e.subject!==""){e.updateOn="subject-event"}else{if(typeof e.updateOn!=="string"||e.updateOn===""){e.updateOn=d(this).data("tela-update-on")}}return e},getPostData:function(h,g,e){var f={};if(d.isFunction(h)){if(typeof g!=="object"){g=this}if(typeof e==="undefined"){e=null}f=h.apply(g,[e])}else{if(typeof h==="object"){f=h}}return f},getSelector:function(){var e=d(this).data("tela-selector");if(typeof e!=="string"||e===""){var f=d(this).attr("id");if(typeof f==="string"&&f!==""){e="#"+f}else{e=false}}else{e=false}return e},response:function(e,f){if(typeof e!=="object"){return false}if(d.isFunction(f.done)){e.done(f.done)}if(d.isFunction(f.fail)){e.fail(f.done)}if(d.isFunction(f.always)){e.always(f.always)}return e}};d.fn.telaAjax=function(i){var g=this;i=a.PluginHelpers.init.apply(g,[i]);var h={};switch(i.updateOn){case"subject-event":if(typeof i.subject==="string"&&i.subject!==""){var k=this;d(document).on(i.event,i.subject,function(){h=a.PluginHelpers.getPostData.apply(g,[i.data,this]);return a.Ajax.updateHtml.apply(a.Ajax,[k,i.action,h,i.ajax])})}break;case"global-event":case"document-event":var j=i.updateOn==="global-event"?d(c):d(document);j.on(i.event,function(){var l=arguments;h=a.PluginHelpers.getPostData.apply(g,[i.data,g,l]);return a.Ajax.updateHtml.apply(a.Ajax,[g,i.action,h,i.ajax])});break;case"self-event":d(this).on(i.event,function(){h=a.PluginHelpers.getPostData.apply(g,[i.data,g]);return a.Ajax.updateHtml.apply(a.Ajax,[g,i.action,h,i.ajax])});break;default:var f=null;var e=a.PluginHelpers.getSelector.apply(g);if(e){d(document).on(i.event,e,function(){h=a.PluginHelpers.getPostData.apply(g,[i.data,g]);f=a.Ajax.run.apply(a.Ajax,[i.action,h,i.ajax]);return a.PluginHelpers.response(f,i)})}else{d(g).on(i.event,function(){h=a.PluginHelpers.getPostData.apply(g,[i.data,g]);f=a.Ajax.run.apply(a.Ajax,[i.action,h,i.ajax]);return a.PluginHelpers.response(f,i)})}}return this}})(jQuery,TelaAjaxData,window,Tela);